<!-- code is helped by ChatGPT -->
{% extends "base.html" %}
{% block title %}Manage Logs and Feedback{% endblock %}
{% block content %}
  <h1>Manage Logs and Feedback</h1>
  
  <h2>Logs</h2>
  {% if logs %}
    <ul class="list-group mb-4">
      {% for log in logs %}
        <li class="list-group-item">
          <strong>Time:</strong> {{ log.timestamp }}<br>
          <strong>Table:</strong> {{ log.table_name }}<br>
          <strong>Action:</strong> {{ log.modification_type }}<br>
          <strong>Description:</strong> {{ log.description }}<br>
          <form action="{{ url_for('main.delete_log', log_id=log.id) }}" method="post" style="display:inline;">
              <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this log?');">Delete</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No logs available.</p>
  {% endif %}
  
  <h2>Feedback</h2>
  {% if feedbacks %}
    <ul class="list-group">
      {% for fb in feedbacks %}
        <li class="list-group-item">
          <strong>Time:</strong> {{ fb.timestamp }}<br>
          <strong>Chart Type:</strong> {{ fb.chart_type }}<br>
          <strong>Chart Year:</strong> {{ fb.chart_year or 'Not specified' }}<br>
          <strong>Feedback:</strong> {{ fb.feedback_text }}<br>
          <form action="{{ url_for('main.delete_feedback', feedback_id=fb.id) }}" method="post" style="display:inline;">
              <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this feedback?');">Delete</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No feedback available.</p>
  {% endif %}
{% endblock %}
